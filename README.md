Сервис генерации шуток о Чаке Норрисе
======================================

Внешний интерфейс приложения представлен в виде HTTP API. 
Сервис предоставляет API для вывода шуток по категориям о Чаке.
Генерирует отчет с JasperReports c шутками по категориям. 
Авторизация в Swagger происходит через Google OAuth2 Resource Service.

Сборка
----------------
Для сборки приложения необходимо в корне проекта выполнить следующие команды:

```mvn clean package```
```docker-compose up```

Используемые технологии
----------------
+ **Java 11**
+ **Spring Boot (MVC, Security, Data, AOP, Actuator)**
+ **PostgreSQL**, **Liquibase**
+ **Swagger OpenAPI**
+ **Maven**
+ **JasperReports**
+ 

Описание API
----------------
```POST /api/v1/categories```
Создает категории в зависимости от выбранного режима создания (ручной/авто).
При указывании автоматического режима в хидере, сервис обращается к https://api.chucknorris.io для получения списка категорий.
В мануальном режиме можно создать категорию.

```GET /api/v1/categories```
Получение списка категорий

```GET /api/v1/categories/{categoryName}```
Получение категории по имени

```POST /api/v1/jokes```
Создает шутку в категории в зависимости от выбранного режима создания (ручной/авто).
При указывании автоматического режима, сервис обращается к https://api.chucknorris.io для получения случайно шутки по переданной категории.
В мануальном режиме можно создать собственную шутку в категории.

```GET /api/v1/jokes/{id}```
Получение шутки по идентификатору

```GET /api/v1/jokes/statistics```    
Получение статистики по категориям (кол-во шуток в категориях)

```GET /api/v1/jokes/random```
Получение случайной шутки

```GET /api/v1/jokes/random/{categoryName}```
Получение случайной шутки по категории

```GET /api/v1/jokes/query```
Получение списка шуток по критерию (построение запроса в бд с предикатом с помощью QueryDsl)

```GET /api/v1/reports/joke-by-categories```
Получение отчета с шутками по категориям в форматах PDF, DOCX, XLSX

Миграция схемы базы данных
----------------
Для миграции схемы базы данных используюется Liquibase. Для запуска процедуры миграции необходимо в ```application.yml``` установить значение ```spring.liquibase.enabled=true```

Проверка качества написанного кода
----------------
Качество кода можно проверить используя maven-checkstyle плагин, встроенный в проект.  
Для этого запустите терминал и выполните следущую команду:

```mvn checkstyle:check```

Дополнительные функциональные возможности
----------------
Помимо решения прикладных задач, приложение по умолчанию поддерживает:
* Мониторинг с возможностью отображения метрик в формате Prometheus.
* UI для задокументированного REST API, доступный на ```/swagger-ui``` endpoint.